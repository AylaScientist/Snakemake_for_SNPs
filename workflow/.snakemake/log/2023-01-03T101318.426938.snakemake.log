Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 12
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                         count    min threads    max threads
------------------------  -------  -------------  -------------
all                             1              1              1
an_table                        2             12             12
annotate                        2             12             12
combine_gvcfs_PSG0              1              6              6
combine_gvcfs_PSG1              1              6              6
convert_to_annovar              2             12             12
gatk_select_PSG                 2              6              6
gatk_variantstotable_PSG        2              6              6
genotype_gvcfs_PSG              2              3              3
table_step1_PSG                 2              1              1
table_step2_PSG                 2              6              6
token_annotation                2              1              1
token_pathbuild                 1              1              1
token_table                     2              1              1
total                          24              1             12

Select jobs to execute...

[Tue Jan  3 10:13:19 2023]
rule combine_gvcfs_PSG1:
    input: calls/GF6_KS4.g.vcf, calls/KF6_KS4.g.vcf, calls/GS4_KS4.g.vcf, calls/KS4_KS4.g.vcf, genome/Tilapia_NC_031967.2_GCF_001858045.2.fa
    output: calls/all_g_KS4.vcf
    log: logs/gatk/combinegvcfs/combinegvcfs_GF6.log
    jobid: 46
    reason: Params have changed since last execution
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:19 2023]
rule combine_gvcfs_PSG0:
    input: calls/GF6_GF6.g.vcf, calls/KF6_GF6.g.vcf, calls/GS4_GF6.g.vcf, calls/KS4_GF6.g.vcf, genome/Tilapia_NC_031967.2_GCF_001858045.2.fa
    output: calls/all_g_GF6.vcf
    log: logs/gatk/combinegvcfs/combinegvcfs_GF6.log
    jobid: 8
    reason: Params have changed since last execution
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:22 2023]
Finished job 46.
1 of 24 steps (4%) done
Select jobs to execute...

[Tue Jan  3 10:13:22 2023]
rule genotype_gvcfs_PSG:
    input: calls/all_g_KS4.vcf, genome/Tilapia_NC_031967.2_GCF_001858045.2.fa
    output: calls/all_KS4.vcf
    log: logs/gatk/genotypegvcfs/genotypegvcfs_KS4.log
    jobid: 45
    reason: Input files updated by another job: calls/all_g_KS4.vcf
    wildcards: pseudo=KS4
    threads: 3
    resources: tmpdir=/tmp, mem_mb=3000

[Tue Jan  3 10:13:22 2023]
Finished job 8.
2 of 24 steps (8%) done
Select jobs to execute...

[Tue Jan  3 10:13:22 2023]
rule genotype_gvcfs_PSG:
    input: calls/all_g_GF6.vcf, genome/Tilapia_NC_031967.2_GCF_001858045.2.fa
    output: calls/all_GF6.vcf
    log: logs/gatk/genotypegvcfs/genotypegvcfs_GF6.log
    jobid: 7
    reason: Input files updated by another job: calls/all_g_GF6.vcf
    wildcards: pseudo=GF6
    threads: 3
    resources: tmpdir=/tmp, mem_mb=3000

[Tue Jan  3 10:13:25 2023]
Finished job 45.
3 of 24 steps (12%) done
Select jobs to execute...

[Tue Jan  3 10:13:25 2023]
rule gatk_select_PSG:
    input: calls/all_KS4.vcf, pseudogenomes/KS4/KS4_GCF_001858045.2.fa
    output: calls/selected_KS4.vcf
    log: logs/gatk/select/snvs_Nile_KS4.log
    jobid: 44
    reason: Input files updated by another job: calls/all_KS4.vcf
    wildcards: pseudo=KS4
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:26 2023]
Finished job 7.
4 of 24 steps (17%) done
Select jobs to execute...

[Tue Jan  3 10:13:26 2023]
rule gatk_select_PSG:
    input: calls/all_GF6.vcf, pseudogenomes/GF6/GF6_GCF_001858045.2.fa
    output: calls/selected_GF6.vcf
    log: logs/gatk/select/snvs_Nile_GF6.log
    jobid: 6
    reason: Input files updated by another job: calls/all_GF6.vcf
    wildcards: pseudo=GF6
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:27 2023]
Finished job 44.
5 of 24 steps (21%) done
Select jobs to execute...
[Tue Jan  3 10:13:27 2023]
Finished job 6.
6 of 24 steps (25%) done

[Tue Jan  3 10:13:27 2023]
rule convert_to_annovar:
    input: calls/selected_KS4.vcf
    output: annotated/annovar_Nile_KS4
    jobid: 43
    reason: Input files updated by another job: calls/selected_KS4.vcf
    wildcards: pseudo=KS4
    threads: 12
    resources: tmpdir=/tmp, mem_mb=12000

[Tue Jan  3 10:13:27 2023]
Finished job 43.
7 of 24 steps (29%) done
Select jobs to execute...

[Tue Jan  3 10:13:27 2023]
rule convert_to_annovar:
    input: calls/selected_GF6.vcf
    output: annotated/annovar_Nile_GF6
    jobid: 5
    reason: Input files updated by another job: calls/selected_GF6.vcf
    wildcards: pseudo=GF6
    threads: 12
    resources: tmpdir=/tmp, mem_mb=12000

[Tue Jan  3 10:13:28 2023]
Finished job 5.
8 of 24 steps (33%) done
Select jobs to execute...

[Tue Jan  3 10:13:28 2023]
rule token_pathbuild:
    input: annotated/annovar_Nile_GF6
    output: ON/ON
    jobid: 36
    reason: Input files updated by another job: annotated/annovar_Nile_GF6
    resources: tmpdir=/tmp


[Tue Jan  3 10:13:28 2023]
rule token_annotation:
    input: annotated/annovar_Nile_GF6
    output: annotated/annotated_Nile_snps_GF6
    jobid: 37
    reason: Input files updated by another job: annotated/annovar_Nile_GF6
    wildcards: pseudo=GF6
    resources: tmpdir=/tmp


[Tue Jan  3 10:13:28 2023]
rule token_annotation:
    input: annotated/annovar_Nile_KS4
    output: annotated/annotated_Nile_snps_KS4
    jobid: 68
    reason: Input files updated by another job: annotated/annovar_Nile_KS4
    wildcards: pseudo=KS4
    resources: tmpdir=/tmp

[Tue Jan  3 10:13:28 2023]
Finished job 36.
9 of 24 steps (38%) done
[Tue Jan  3 10:13:28 2023]
Finished job 37.
10 of 24 steps (42%) done
Select jobs to execute...
[Tue Jan  3 10:13:28 2023]
Finished job 68.
11 of 24 steps (46%) done

[Tue Jan  3 10:13:28 2023]
rule annotate:
    input: annotated/annovar_Nile_GF6, ON/ON, annotated/annotated_Nile_snps_GF6
    output: annotated/annotated_Nile_snps_GF6.variant_function
    jobid: 35
    reason: Input files updated by another job: annotated/annovar_Nile_GF6, ON/ON, annotated/annotated_Nile_snps_GF6
    wildcards: pseudo=GF6
    threads: 12
    resources: tmpdir=/tmp, mem_mb=12000

Select jobs to execute...
[Tue Jan  3 10:13:29 2023]
Finished job 35.
12 of 24 steps (50%) done

[Tue Jan  3 10:13:29 2023]
rule token_table:
    input: annotated/annotated_Nile_snps_GF6.variant_function
    output: annotated/annotated_all_snps_GF6
    jobid: 38
    reason: Input files updated by another job: annotated/annotated_Nile_snps_GF6.variant_function
    wildcards: pseudo=GF6
    resources: tmpdir=/tmp

[Tue Jan  3 10:13:29 2023]
Finished job 38.
13 of 24 steps (54%) done
Select jobs to execute...

[Tue Jan  3 10:13:29 2023]
rule an_table:
    input: annotated/annovar_Nile_GF6, annotated/annotated_Nile_snps_GF6.variant_function, annotated/annotated_all_snps_GF6, calls/all_GF6.vcf, ON, ON
    output: annotated/annotated_all_snps_GF6.ON_multianno.vcf
    jobid: 4
    reason: Input files updated by another job: annotated/annovar_Nile_GF6, annotated/annotated_all_snps_GF6, calls/all_GF6.vcf, annotated/annotated_Nile_snps_GF6.variant_function
    wildcards: pseudo=GF6
    threads: 12
    resources: tmpdir=/tmp, mem_mb=12000

[Tue Jan  3 10:13:31 2023]
Finished job 4.
14 of 24 steps (58%) done
Select jobs to execute...

[Tue Jan  3 10:13:31 2023]
rule gatk_variantstotable_PSG:
    input: annotated/annotated_all_snps_GF6.ON_multianno.vcf, pseudogenomes/GF6/GF6_GCF_001858045.2.fa
    output: variants/AD_GT_counts_bi_GF6.table
    log: logs/gatk/var2table/snvs_GF6.log
    jobid: 3
    reason: Missing output files: variants/AD_GT_counts_bi_GF6.table; Input files updated by another job: annotated/annotated_all_snps_GF6.ON_multianno.vcf
    wildcards: pseudo=GF6
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:33 2023]
Finished job 3.
15 of 24 steps (62%) done
Select jobs to execute...

[Tue Jan  3 10:13:33 2023]
rule table_step1_PSG:
    input: variants/AD_GT_counts_bi_GF6.table
    output: variants/AD_GT_counts_bi_GF6_step1.csv
    jobid: 2
    reason: Missing output files: variants/AD_GT_counts_bi_GF6_step1.csv; Input files updated by another job: variants/AD_GT_counts_bi_GF6.table
    wildcards: pseudo=GF6
    resources: tmpdir=/tmp

[Tue Jan  3 10:13:33 2023]
Finished job 2.
16 of 24 steps (67%) done
Select jobs to execute...

[Tue Jan  3 10:13:33 2023]
rule table_step2_PSG:
    input: variants/AD_GT_counts_bi_GF6_step1.csv, ../config/tbGF6_colnames.csv
    output: workflow/AD_GT_counts_bi_GF6.csv
    log: logs/python/table_step2/AD_GT_counts_bi_GF6.log
    jobid: 1
    reason: Missing output files: workflow/AD_GT_counts_bi_GF6.csv; Input files updated by another job: variants/AD_GT_counts_bi_GF6_step1.csv
    wildcards: pseudo=GF6
    threads: 6
    resources: tmpdir=/tmp, mem_mb=6000

[Tue Jan  3 10:13:34 2023]
Error in rule table_step2_PSG:
    jobid: 1
    input: variants/AD_GT_counts_bi_GF6_step1.csv, ../config/tbGF6_colnames.csv
    output: workflow/AD_GT_counts_bi_GF6.csv
    log: logs/python/table_step2/AD_GT_counts_bi_GF6.log (check log file(s) for error message)
    conda-env: /home/fish/Snakemake_for_SNPs/workflow/.snakemake/conda/06703ee70a1e765ec642f5b57953594f_

RuleException:
CalledProcessError in line 24 of /home/fish/Snakemake_for_SNPs/workflow/rules/table2df.smk:
Command 'set -euo pipefail;  /home/fish/anaconda3/envs/pipeline/bin/python /home/fish/Snakemake_for_SNPs/workflow/.snakemake/scripts/tmpv146jmcd.table2df_step2.py' returned non-zero exit status 1.
  File "/home/fish/Snakemake_for_SNPs/workflow/rules/table2df.smk", line 24, in __rule_table_step2_PSG
  File "/home/fish/anaconda3/envs/pipeline/lib/python3.7/concurrent/futures/thread.py", line 57, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-01-03T101318.426938.snakemake.log
